import{c as g,j as e,r as n,m as t,B as c}from"./chunks/index-Z1th90C1.js";import{G as p}from"./chunks/GradientText-DJbbYQlN.js";function b(){const s=window.dealerCheckout||{items:[],total:0,cartUrl:"/cart/",nonce:"",ajaxUrl:"",placeOrderNonce:""},[r]=n.useState(s.items),[o,d]=n.useState(!1),[x,y]=n.useState(""),m=r.reduce((a,l)=>a+l.subtotal,0),u=a=>{switch(a){case"stock_order":return"bg-green-100 text-green-700";case"daily_order":return"bg-blue-100 text-blue-700";case"vor_order":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},j=async()=>{d(!0);try{const a=new FormData;a.append("action","dealer_place_order"),a.append("nonce",s.placeOrderNonce),a.append("order_notes",x);const i=await(await fetch(s.ajaxUrl,{method:"POST",body:a})).json();i.success?window.location.href=i.data.redirect||"/my-account/orders/":alert("Failed to place order: "+(i.data?.message||"Unknown error"))}catch(a){console.error("Failed to place order:",a),alert("Failed to place order")}finally{d(!1)}};return r.length===0?e.jsx("div",{className:"page-container",children:e.jsx("div",{className:"page-content",children:e.jsxs(t.div,{className:"text-center py-16",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ›’"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Add some products to checkout"}),e.jsx(c,{onClick:()=>window.location.href="/inventory/",children:"Browse Inventory"})]})})}):e.jsx("div",{className:"page-container",children:e.jsxs("div",{className:"page-content",children:[e.jsxs(t.div,{className:"mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:e.jsx(p,{animationSpeed:4,children:"Checkout"})}),e.jsx("p",{className:"text-gray-500",children:"Review and place your order"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(t.div,{className:"lg:col-span-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsxs("div",{className:"bg-white overflow-hidden p-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Order Items"}),e.jsx("div",{children:r.map((a,l)=>e.jsxs(t.div,{className:"flex items-center justify-between py-5 border-b border-gray-100 last:border-0",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.05},children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",a.sku]}),e.jsx("span",{className:`inline-flex !px-3 !py-1 text-xs font-medium rounded-full mt-1 ${u(a.orderType)}`,children:a.orderTypeLabel||"Stock Order"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-gray-600",children:[a.quantity," x $",a.price.toFixed(2)]}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",a.subtotal.toFixed(2)]})]})]},a.key))})]}),e.jsxs(t.div,{className:"mt-6 bg-white overflow-hidden p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Notes (Optional)"}),e.jsx("textarea",{value:x,onChange:a=>y(a.target.value),placeholder:"Add any special instructions for your order...",className:"w-full h-24 px-4 py-3 text-sm border border-gray-200 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent resize-none"})]})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs("div",{className:"p-6 sticky top-32",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:["Subtotal (",r.length," items)"]}),e.jsxs("span",{children:["$",m.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:"Calculated later"})]})]}),e.jsx("div",{className:"border-t border-gray-200 mt-6 pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total"}),e.jsx("span",{className:"text-2xl font-bold",children:e.jsxs(p,{animationSpeed:4,children:["$",m.toFixed(2)]})})]})}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsx(c,{className:"w-full h-12 text-base",onClick:j,disabled:o,children:o?"Placing Order...":"Place Order"}),e.jsx(c,{className:"w-full h-12 text-base",onClick:()=>window.location.href=s.cartUrl,children:"Back to Cart"})]})]})})]})]})})}const h=document.getElementById("dealer-checkout-root");h&&g.createRoot(h).render(e.jsx(n.StrictMode,{children:e.jsx(b,{})}));
