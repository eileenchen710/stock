import{c as w,j as e,r as o,m as l,B as c}from"./chunks/index-Z1th90C1.js";import{G as j}from"./chunks/GradientText-DJbbYQlN.js";import{I as C}from"./chunks/Input-DUc8ouzG.js";import{T,a as S,b as I,c as s,d as R,e as r}from"./chunks/Table-Dr_UeMuC.js";import{A as U}from"./chunks/index-CdJNFGGB.js";function B(){const x=window.dealerCart||{items:[],checkoutUrl:"/checkout/"},[d,m]=o.useState(x.items),[h,y]=o.useState(null),[p,u]=o.useState(null),b=d.reduce((t,a)=>t+a.subtotal,0),f=(t,a)=>{a<1||m(n=>n.map(i=>i.key===t?{...i,quantity:a,subtotal:i.price*a}:i))},N=async()=>{y("all");try{window.location.reload()}catch(t){console.error("Failed to update cart:",t)}finally{y(null)}},v=async t=>{u(t);try{m(a=>a.filter(n=>n.key!==t))}catch(a){console.error("Failed to remove item:",a)}finally{u(null)}},k=t=>{switch(t){case"stock_order":return"bg-green-100 text-green-700";case"daily_order":return"bg-blue-100 text-blue-700";case"vor_order":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return e.jsx("div",{className:"page-container",children:e.jsxs("div",{className:"page-content",children:[e.jsxs(l.div,{className:"mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:e.jsx(j,{animationSpeed:4,children:"Shopping Cart"})}),e.jsx("p",{className:"text-gray-500",children:"Review your order before checkout"})]}),d.length>0?e.jsxs(e.Fragment,{children:[e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl overflow-hidden",children:e.jsxs(T,{children:[e.jsx(S,{children:e.jsxs(I,{children:[e.jsx(s,{children:"Product"}),e.jsx(s,{children:"SKU"}),e.jsx(s,{children:"Type"}),e.jsx(s,{className:"text-right",children:"Price"}),e.jsx(s,{className:"text-center",children:"Quantity"}),e.jsx(s,{className:"text-right",children:"Subtotal"}),e.jsx(s,{})]})}),e.jsx(R,{children:e.jsx(U,{children:d.map((t,a)=>e.jsxs(l.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:a*.05},className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsx(r,{className:"font-medium text-gray-900",children:t.name}),e.jsx(r,{className:"font-mono text-gray-600",children:t.sku}),e.jsx(r,{children:e.jsx("span",{className:`inline-flex !px-3 !py-1 text-xs font-medium rounded-full ${k(t.orderType)}`,children:t.orderTypeLabel||"Stock Order"})}),e.jsxs(r,{className:"text-right text-gray-700",children:["$",t.price.toFixed(2)]}),e.jsx(r,{children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(C,{type:"number",min:1,value:t.quantity,onChange:n=>f(t.key,parseInt(n.target.value)||1),className:"w-20 h-8 text-center"})})}),e.jsxs(r,{className:"text-right font-semibold text-gray-900",children:["$",t.subtotal.toFixed(2)]}),e.jsx(r,{children:e.jsx(c,{size:"sm",onClick:()=>v(t.key),disabled:p===t.key,children:p===t.key?"...":"Remove"})})]},t.key))})})]})}),e.jsxs(l.div,{className:"mt-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(c,{onClick:N,disabled:h==="all",children:h==="all"?"Updating...":"Update Cart"}),e.jsxs("div",{className:"rounded-xl p-6 min-w-[300px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-gray-500",children:"Total"}),e.jsx("span",{className:"text-3xl font-bold",children:e.jsxs(j,{animationSpeed:4,children:["$",b.toFixed(2)]})})]}),e.jsx(c,{className:"w-full h-12 text-base",onClick:()=>window.location.href=x.checkoutUrl,children:"Proceed to Checkout"})]})]})]}):e.jsxs(l.div,{className:"text-center py-16",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ›’"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Add some products to get started"}),e.jsx(c,{onClick:()=>window.location.href="/",children:"Browse Inventory"})]})]})})}const g=document.getElementById("dealer-cart-root");g&&w.createRoot(g).render(e.jsx(o.StrictMode,{children:e.jsx(B,{})}));
