import{c as k,j as e,r as o,m as n,B as c}from"./chunks/index-BssOvU0_.js";import{G as j,A as C}from"./chunks/GradientText-CDyuto2A.js";import{I as T}from"./chunks/Input-BJbKxmUE.js";import{T as S,a as I,b as R,c as r,d as U,e as s}from"./chunks/Table-BA1IXU3v.js";function B(){const x=window.dealerCart||{items:[],checkoutUrl:"/checkout/"},[d,h]=o.useState(x.items),[m,y]=o.useState(null),[p,u]=o.useState(null),g=d.reduce((t,a)=>t+a.subtotal,0),f=(t,a)=>{a<1||h(l=>l.map(i=>i.key===t?{...i,quantity:a,subtotal:i.price*a}:i))},N=async()=>{y("all");try{window.location.reload()}catch(t){console.error("Failed to update cart:",t)}finally{y(null)}},v=async t=>{u(t);try{h(a=>a.filter(l=>l.key!==t))}catch(a){console.error("Failed to remove item:",a)}finally{u(null)}},w=t=>{switch(t){case"stock_order":return"bg-green-100 text-green-700";case"daily_order":return"bg-blue-100 text-blue-700";case"vor_order":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return e.jsx("div",{className:"min-h-screen bg-white pb-20",children:e.jsxs("div",{className:"w-full box-border",children:[e.jsxs(n.div,{className:"mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:e.jsx(j,{animationSpeed:4,children:"Shopping Cart"})}),e.jsx("p",{className:"text-gray-500",children:"Review your order before checkout"})]}),d.length>0?e.jsxs(e.Fragment,{children:[e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:e.jsxs(S,{children:[e.jsx(I,{children:e.jsxs(R,{children:[e.jsx(r,{children:"Product"}),e.jsx(r,{children:"SKU"}),e.jsx(r,{children:"Type"}),e.jsx(r,{className:"text-right",children:"Price"}),e.jsx(r,{className:"text-center",children:"Quantity"}),e.jsx(r,{className:"text-right",children:"Subtotal"}),e.jsx(r,{})]})}),e.jsx(U,{children:e.jsx(C,{children:d.map((t,a)=>e.jsxs(n.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:a*.05},className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsx(s,{className:"font-medium text-gray-900",children:t.name}),e.jsx(s,{className:"font-mono text-gray-600",children:t.sku}),e.jsx(s,{children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w(t.orderType)}`,children:t.orderTypeLabel||"Stock Order"})}),e.jsxs(s,{className:"text-right text-gray-700",children:["$",t.price.toFixed(2)]}),e.jsx(s,{children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(T,{type:"number",min:1,value:t.quantity,onChange:l=>f(t.key,parseInt(l.target.value)||1),className:"w-20 h-8 text-center"})})}),e.jsxs(s,{className:"text-right font-semibold text-gray-900",children:["$",t.subtotal.toFixed(2)]}),e.jsx(s,{children:e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>v(t.key),disabled:p===t.key,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:p===t.key?"...":"Remove"})})]},t.key))})})]})}),e.jsxs(n.div,{className:"mt-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(c,{variant:"secondary",onClick:N,disabled:m==="all",children:m==="all"?"Updating...":"Update Cart"}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 min-w-[300px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-gray-500",children:"Total"}),e.jsx("span",{className:"text-3xl font-bold",children:e.jsxs(j,{animationSpeed:4,children:["$",g.toFixed(2)]})})]}),e.jsx(c,{className:"w-full h-12 text-base",onClick:()=>window.location.href=x.checkoutUrl,children:"Proceed to Checkout"})]})]})]}):e.jsxs(n.div,{className:"text-center py-16",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ›’"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Add some products to get started"}),e.jsx(c,{onClick:()=>window.location.href="/",children:"Browse Inventory"})]})]})})}const b=document.getElementById("dealer-cart-root");b&&k.createRoot(b).render(e.jsx(o.StrictMode,{children:e.jsx(B,{})}));
